name: Simple Test

on:
  push:
    branches: [ main, develop ]

jobs:
  test:
    name: Simple Test
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout Code
      uses: actions/checkout@v3
      
    - name: Test File Access
      run: |
        echo "Current directory: $(pwd)"
        echo "Directory contents:"
        ls -la
        
        echo "Checking for Includes directory:"
        if [ -d "Includes" ]; then
          echo "✓ Includes directory exists"
          ls -la Includes/
        else
          echo "✗ Includes directory does not exist"
        fi
        
        echo "Checking for WeatherMeasures directory:"
        if [ -d "Includes/WeatherMeasures" ]; then
          echo "✓ WeatherMeasures directory exists"
          ls -la Includes/WeatherMeasures/
        else
          echo "✗ WeatherMeasures directory does not exist"
        fi
        
        echo "Checking for CurrentForecast.inc:"
        if [ -f "Includes/WeatherMeasures/CurrentForecast.inc" ]; then
          echo "✓ CurrentForecast.inc exists"
          echo "File size: $(wc -l < Includes/WeatherMeasures/CurrentForecast.inc) lines"
          echo "First 5 lines:"
          head -5 "Includes/WeatherMeasures/CurrentForecast.inc"
        else
          echo "✗ CurrentForecast.inc does not exist"
          echo "Looking for files with similar names:"
          find . -name "*Current*" -type f
        fi
        
        echo "Trying grep with different approaches:"
        if [ -f "Includes/WeatherMeasures/CurrentForecast.inc" ]; then
          echo "Method 1 - direct grep:"
          grep -c "Measure_Weather_Current_Parent" "Includes/WeatherMeasures/CurrentForecast.inc" || echo "Grep failed"
          
          echo "Method 2 - cat and grep:"
          cat "Includes/WeatherMeasures/CurrentForecast.inc" | grep -c "Measure_Weather_Current_Parent" || echo "Cat + grep failed"
          
          echo "Method 3 - using file command to check file type:"
          file "Includes/WeatherMeasures/CurrentForecast.inc"
        fi